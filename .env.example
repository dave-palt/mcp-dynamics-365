# Dynamics 365 Configuration
# Copy this file to .env and fill in your actual values

# Azure AD Application Details
D365_CLIENT_ID=your_client_id_here
D365_CLIENT_SECRET=your_client_secret_here  
D365_TENANT_ID=your_tenant_id_here

# Dynamics 365 Organization URL (used for backend API calls)
D365_BASE_URL=https://your-org.crm.dynamics.com
D365_RESOURCE=https://your-org.crm.dynamics.com

# Optional: Authority URL (defaults to https://login.microsoftonline.com/)
D365_AUTHORITY_URL=https://login.microsoftonline.com/

# Optional: API Version (defaults to v9.2)
D365_API_VERSION=v9.2

# MCP OAuth Resource & Provider Configuration (for MCP authentication)
# These are used for MCP server authentication and metadata exposure
# Only required for HTTP transport (not needed for stdio transport)
# Set these in the server .env
OAUTH_MCP_RESOURCE=http://localhost:3300
OAUTH_AUTH_URL=https://github.com/login/oauth/authorize
OAUTH_TOKEN_URL=https://github.com/login/oauth/access_token
OAUTH_JWKS_URL=https://api.github.com/meta  # GitHub does not provide JWKS, so use a placeholder
OAUTH_BASE_URL=https://github.com
OAUTH_FLOW=opaque  # Supported: 'jwt' (JWT validation), 'opaque' (API token validation)
OAUTH_OPAQUE_USER_API=https://api.github.com/user  # Optional: endpoint for opaque token validation
OAUTH_TOKEN_CACHE_DURATION_MS=86400000  # Optional: token validation cache duration in milliseconds (default: 24 hours)

# MCP Client OAuth Credentials (for client-side OAuth flow)
# Only needed in MCP client config (e.g. mcp.json, VS Code extension, Claude Desktop)
# Do NOT set these in the server .env
# OAUTH_CLIENT_ID: your_github_client_id
# OAUTH_CLIENT_SECRET: your_github_client_secret

# HTTP Transport Configuration (Optional)
# These override the default values for HTTP transport
MCP_HTTP_PORT=3300
MCP_HTTP_HOST=localhost
